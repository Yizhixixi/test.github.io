---
layout: post
category: java
title: å¦‚ä½•ä¼˜é›…åœ°æ‰“å°ä¸€ä¸ªJavaå¯¹è±¡ï¼Ÿ
tagline: by æ²‰é»˜ç‹äºŒ
tag: java
---

æˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•ä¼˜é›…åœ°æ‰“å°ä¸€ä¸ªJavaå¯¹è±¡

<!--more-->






ä½ å¥½å‘€ï¼Œæˆ‘æ˜¯æ²‰é»˜ç‹äºŒï¼Œä¸€ä¸ªå’Œé»„å®¶é©¹ä¸€æ ·èº«é«˜ï¼Œå’Œåˆ˜å¾·åä¸€æ ·é¢œå€¼çš„ç¨‹åºå‘˜ã€‚è™½ç„¶å·²ç»å†™äº†åå¤šå¹´çš„ Java ä»£ç ï¼Œä½†ä»ç„¶è§‰å¾—è‡ªå·±æ˜¯ä¸ªèœé¸Ÿï¼ˆè¯·å…è®¸æˆ‘æƒ­æ„§ä¸€ä¸‹ï¼‰ã€‚

åœ¨ä¸€ä¸ªæœˆé»‘é£é«˜çš„å¤œæ™šï¼Œæˆ‘æ€å‰æƒ³åï¼Œè§‰å¾—å†ä¹Ÿä¸èƒ½è¿™ä¹ˆè¹‰è·ä¸‹å»äº†ã€‚äºæ˜¯ç—›ä¸‹å†³å¿ƒï¼Œå‡†å¤‡é€šè¿‡è¾“å‡ºçš„æ–¹å¼å€’é€¼è¾“å…¥ï¼Œä»¥æ­¤æ¥ä¿®ç‚¼è‡ªå·±çš„å†…åŠŸï¼Œä»è€Œè¿›é˜¶æˆä¸ºä¸€åçœŸæ­£æ„ä¹‰ä¸Šçš„å¤§ç¥ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¸Œæœ›è¿™äº›æ–‡ç« èƒ½å¤Ÿå¸®åŠ©åˆ°æ›´å¤šçš„è¯»è€…ï¼Œè®©å¤§å®¶åœ¨å­¦ä¹ çš„è·¯ä¸Šä¸å†å¯‚å¯ã€ç©ºè™šå’Œå†·ã€‚

![](http://www.itwanger.com/assets/images/2020/02/print-object-01.png)

ä¸ºäº†æ›´å¥½çš„è¾“å…¥ï¼Œæˆ‘é€‰æ‹© Stack Overflow ä½œä¸ºæˆ˜æ–—çš„ç¬¬ä¸€çº¿ï¼Œæ¯•ç«Ÿå¾ˆå¤šå‰è¾ˆéƒ½åœ¨å¼ºçƒˆæ¨èã€‚æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬æ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•ä¼˜é›…åœ°æ‰“å°ä¸€ä¸ªJavaå¯¹è±¡ã€‚

çœŸæ²¡æƒ³åˆ°ï¼Œè¿™ä¸ªé—®é¢˜çš„è®¿é—®é‡åƒé˜¿å°”æ³°å±±ä¸€æ ·é«˜ï¼Œè®¿é—®é‡è¶³è¶³æœ‰ 29+ ä¸‡æ¬¡ï¼Œè¿™ä¸å¾—äº†å•Šï¼è¯´æ˜æœ‰å¾ˆå¤šå¾ˆå¤šçš„ç¨‹åºå‘˜è¢«è¿™ä¸ªé—®é¢˜å›°æ‰°è¿‡ã€‚


æ¥å›é¡¾ä¸€ä¸‹æé—®è€…çš„é—®é¢˜å§ã€‚

æé—®è€…å®šä¹‰äº†è¿™æ ·ä¸€ä¸ªç±»ï¼š

```java
public class Cmower {
    private String name;

    public Cmower(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```

ç„¶ååˆ›å»ºäº†ä¸€ä¸ªè¯¥ç±»çš„å¯¹è±¡ï¼Œå¹¶å°è¯•æ‰“å°å®ƒï¼š

```java
Cmower cmower = new Cmower("æ²‰é»˜ç‹äºŒ");
System.out.println(cmower);
```

ä½†æ˜¯è¾“å‡ºçš„ç»“æœå¹¶ä¸æ˜¯ä»–æƒ³è¦çš„ï¼š

```
com.cmower.java_demo.stackoverflow.printObject.Cmower@355da254
```

é™¤æ­¤ä¹‹å¤–ï¼Œä»–åœ¨æ‰“å°æ•°ç»„çš„æ—¶å€™ä¹Ÿå‡ºç°äº†ç›¸ä¼¼çš„é—®é¢˜ï¼š

```java
Cmower [] cmowers = {new Cmower("æ²‰é»˜ç‹äºŒ"), new Cmower("æ²‰é»˜ç‹ä¸‰")};
System.out.println(cmowers);
```

è¾“å‡ºç»“æœä¸ºï¼š

```
[Lcom.cmower.java_demo.stackoverflow.printObject.Cmower;@4dc63996
```

`Cmower@355da254` å’Œ `[LCmower;@4dc63996` è¿™æ ·çš„è¾“å‡ºç»“æœä»£è¡¨ç€ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ€ä¹ˆæ ·æ‰èƒ½æŠŠ Cmower ç±»çš„ name æ‰“å°å‡ºæ¥å‘¢ï¼Ÿä»¥åŠå¦‚ä½•æ‰“å°ä¸€ä¸ªå¯¹è±¡çš„åˆ—è¡¨ï¼ˆæ•°ç»„æˆ–è€…é›†åˆï¼‰å‘¢ï¼Ÿ

å¦‚æœå¤§å®¶ä¹Ÿè¢«è¿™æ ·çš„é—®é¢˜å›°æ‰°è¿‡ï¼Œæˆ–è€…æ­£åœ¨è¢«å›°æ‰°ï¼Œå°±è¯·éš[æˆ‘](https://mp.weixin.qq.com/s/feoOINGSyivBO8Z1gaQVOA)æ¥ï¼Œå’±ä»¬è‚©å¹¶è‚©æ‰‹æ‹‰æ‰‹ä¸€èµ·æ¢³ç†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œå¹¶æ‰¾å‡ºæœ€ä½³ç­”æ¡ˆã€‚Duangã€Duangã€Duangï¼Œæ‰“æ€ªè¿›é˜¶å–½ï¼

### 01ã€ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

æ‰€æœ‰çš„ Java å¯¹è±¡éƒ½é»˜è®¤é™„å¸¦äº†ä¸€ä¸ª `toString()` çš„æ–¹æ³•ï¼Œå½“æˆ‘ä»¬å°è¯•æ‰“å°è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚

```java
System.out.println(object);  // è°ƒç”¨ object.toString()
```

`toString()` æ–¹æ³•ç”± Object ç±»ï¼ˆæ‰€æœ‰ Java å¯¹è±¡çš„è¶…ç±»ï¼‰å®šä¹‰ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªçœ‹èµ·æ¥æ™¦æ¶©éš¾æ‡‚çš„å­—ç¬¦ä¸²ï¼š

1ï¼‰Class åï¼Œç”±åŒ…åå’Œç±»åç»„æˆï¼Œæ¯”å¦‚ `com.Cmower`ï¼›
2ï¼‰@ è¿æ¥ç¬¦ï¼›
3ï¼‰åå…­è¿›åˆ¶çš„å“ˆå¸Œç ã€‚

æ¥çœ‹ä¸€ä¸‹è¯¥æ–¹æ³•çš„æºç ï¼š

```java
public String toString() {
    return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```



æ•°ç»„å’Œæ™®é€šçš„ Java å¯¹è±¡ç±»ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹ç‚¹ä¸åŒâ€”â€”è¿½è¸ª Class ç±»çš„ `getName()` æ–¹æ³•å°±å¯ä»¥å°è¯è¿™ä¸€ç‚¹ã€‚

>If this class object represents a class of arrays, then the internal form of the name consists of the name of the element type preceded by one or more '[' characters representing the depth of the array nesting.

å¤§è‡´çš„æ„æ€å°±æ˜¯ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„çš„è¯ï¼ŒClass åçš„å‰é¢ä¼šæœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªè‹±æ–‡ä¸­æ‹¬å·â€œ[â€ï¼Œè¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ï¼ˆä¸€ç»´æ•°ç»„ä¸ºä¸€ä¸ªâ€œ[â€ï¼ŒäºŒç»´æ•°ç»„ä¸ºä¸¤ä¸ªâ€œ[â€ï¼‰ï¼Œç„¶åå†ç´§è·Ÿä¸€ä¸ªå…ƒç´ çš„ç±»å‹é¦–å­—æ¯ã€‚

![](http://www.itwanger.com/assets/images/2020/02/print-object-02.png)

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¯¹è±¡æ•°ç»„çš„å‰ç¼€æ˜¯â€œ[Lâ€çš„åŸå› ã€‚æ˜¯ä¸æ˜¯æœ‰ä¸€ç§æç„¶å¤§æ‚Ÿçš„æ„Ÿè§‰ï¼Ÿ

![](http://www.itwanger.com/assets/images/2020/02/print-object-03.png)

### 02ã€è‡ªå®šä¹‰è¾“å‡º

å¦‚æœæƒ³åœ¨æ‰“å°çš„æ—¶å€™è¾“å‡ºè‡ªå·±é¢„æœŸçš„ç»“æœï¼Œå°±å¿…é¡»åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡å†™ `toString()` æ–¹æ³•ï¼Œæ¥çœ‹ä¾‹å­ã€‚

```java
public class Cmower {
    private String name;
    // çœç•¥æ„é€ æ–¹æ³•å’Œ getter/setter

    @Override
    public String toString() {
        return name;
    }
}
```

å½“æˆ‘ä»¬å†æ¬¡æ‰“å° Cmower å¯¹è±¡æ—¶ï¼Œè¾“å‡ºç»“æœå°±ä¸å†æ˜¯ `com.Cmower@355da254` äº†ã€‚

```
æ²‰é»˜ç‹äºŒ
```

ä½†æ˜¯è¿™æ ·çš„ç»“æœå¹¶ä¸ä¼šä»¤æˆ‘ä»¬æ»¡æ„ï¼Œå®ƒæœ‰äº›çªå…€ï¼Œæ²¡æ³•è¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ã€‚æ›´ä¼˜é›…çš„åšæ³•æ˜¯è¿™æ ·çš„ï¼š

```java
public class Cmower {
    private String name;
    // çœç•¥æ„é€ æ–¹æ³•å’Œ getter/setter

    @Override
    public String toString() {
        return getClass().getSimpleName() + "[name=" + name + "]";
    }
}
```

å†æ¬¡æ‰“å° Cmower å¯¹è±¡ï¼Œè¾“å‡ºç»“æœä¸ºï¼š

```
Cmower[name=æ²‰é»˜ç‹äºŒ]
```

è¿™æ ·çš„å½¢å¼ä¸ä»…çœ‹èµ·æ¥ç¾è§‚ï¼Œè¿˜èƒ½å¤Ÿåœ¨è°ƒè¯•çš„æ—¶å€™ç»™å‡ºæœ‰ç”¨çš„ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¸æƒ³é‡å†™ `toString()` æ–¹æ³•ï¼ˆæƒ³ä¿ç•™åŸæœ‰çš„æ‰“å°æ ¼å¼ `ClassType@123121`ï¼‰ï¼Œåˆæƒ³æ‰“å°è¯¥å¯¹è±¡çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆæœ€å¥½å®šä¹‰ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œæ¯”å¦‚è¯´ `toMyString()` æ–¹æ³•ã€‚

### 03ã€è‡ªåŠ¨åŒ–è¾“å‡º

IDEï¼ˆEclipse æˆ–è€… Intellj IDEAï¼‰ é€šå¸¸ä¼šæä¾›ä¸€ç§é’ˆå¯¹ç±»çš„å­—æ®µçš„è¾“å‡ºæ ¼å¼ï¼Œç”¨æ¥è¦†ç›– `toString()` æ–¹æ³•ã€‚

```java
@Override
public String toString() {
    return "Cmower{" +
            "name='" + name + '\'' +
            '}';
}
```

å¦å¤–ï¼Œä¸€äº›å¼€æºçš„ç¬¬ä¸‰æ–¹ç±»åº“ä¹Ÿä¼šæä¾›è¿™æ ·çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´ï¼š

1ï¼‰Apache Commons Lang çš„ ToStringBuilderã€‚

ä½¿ç”¨æ–¹æ³•ï¼š

```java
@Override
public String toString() {
    return ToStringBuilder.reflectionToString(this);
}
```

è¾“å‡ºç»“æœï¼š

```
com.cmower.printObject.Cmower@355da254[name=æ²‰é»˜ç‹äºŒ]
```

2ï¼‰Google Guava çš„ MoreObjects

ä½¿ç”¨æ–¹æ³•ï¼š

```java
@Override
public String toString() {
    return MoreObjects.toStringHelper(this)
            .add("name", getName())
            .toString();
}
```

è¾“å‡ºç»“æœï¼š

```
Cmower{name=æ²‰é»˜ç‹äºŒ}
```


3ï¼‰Lombok çš„ `@toString` æ³¨è§£ï¼ˆIDE éœ€è¦å…ˆå®‰è£… Lombok çš„æ’ä»¶ï¼‰

ä½¿ç”¨æ–¹æ³•ï¼š

```java
@ToString
public class Cmower {

    private String name;

    // çœç•¥æ„é€ æ–¹æ³•å’Œ getter/setter
}
```

åªéœ€è¦ä¸€ä¸ª `@toString` æ³¨è§£ï¼Œä¸éœ€è¦è¦†ç›– `toString()` æ–¹æ³•ã€‚

è¾“å‡ºç»“æœï¼š

```
Cmower(name=æ²‰é»˜ç‹äºŒ)
```

### 04ã€æ‰“å°å¯¹è±¡åˆ—è¡¨ï¼ˆæ•°ç»„æˆ–è€…é›†åˆï¼‰

ä¸Šè¿°å†…å®¹å·²ç»æŠŠæ‰“å°å•ä¸ªå¯¹è±¡çš„äº‹æƒ…å” æ˜ç™½äº†ï¼Œare you okï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥è¯´é“è¯´é“æ‰“å°å¯¹è±¡åˆ—è¡¨çš„äº‹å„¿ã€‚

1ï¼‰æ•°ç»„

`Arrays.toString()` å¯ä»¥å°†ä»»æ„ç±»å‹çš„æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹æ•°ç»„å’Œå¼•ç”¨ç±»å‹æ•°ç»„ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ã€‚

```java
Cmower[] cmowers = {new Cmower("æ²‰é»˜ç‹äºŒ"), new Cmower("æ²‰é»˜ç‹ä¸‰")};
System.out.println(Arrays.toString(cmowers));
```

è¾“å‡ºç»“æœï¼š

```
[Cmower{name='æ²‰é»˜ç‹äºŒ'}, Cmower{name='æ²‰é»˜ç‹ä¸‰'}]
```

2ï¼‰é›†åˆ

å¯¹äºé›†åˆæ¥è¯´ï¼Œå¯ä»¥ç›´æ¥æ‰“å°å°±èƒ½è¾“å‡ºæˆ‘ä»¬é¢„æœŸçš„ç»“æœã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ã€‚


```java
List<Cmower> list = new ArrayList<>();
list.add(new Cmower("æ²‰é»˜ç‹äºŒ"));
list.add(new Cmower("æ²‰é»˜ç‹ä¸‰"));
System.out.println(list);
```

è¾“å‡ºç»“æœï¼š

```
[Cmower{name='æ²‰é»˜ç‹äºŒ'}, Cmower{name='æ²‰é»˜ç‹ä¸‰'}]
```



### 05ã€é¸£è°¢

å¥½äº†ï¼Œæˆ‘äº²çˆ±çš„è¯»è€…æœ‹å‹ï¼Œä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹äº†ã€‚èƒ½åœ¨ç–«æƒ…æœŸé—´åšæŒçœ‹æŠ€æœ¯æ–‡ï¼ŒäºŒå“¥å¿…é¡»è¦ä¼¸å‡ºå¤§æ‹‡æŒ‡ä¸ºä½ ç‚¹ä¸ªèµğŸ‘ã€‚

åŸåˆ›ä¸æ˜“ï¼Œå¦‚æœè§‰å¾—æœ‰ç‚¹ç”¨çš„è¯ï¼Œè¯·ä¸è¦åå•¬ä½ æ‰‹ä¸­**ç‚¹èµ**çš„æƒåŠ›â€”â€”å› ä¸ºè¿™å°†æ˜¯æˆ‘å†™ä½œçš„æœ€å¼ºåŠ¨åŠ›ã€‚


![](http://www.itwanger.com/assets/images/cmower_3.png)